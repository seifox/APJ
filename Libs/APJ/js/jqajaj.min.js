// Version 1.8.170727 | requires jQuery v1.5.x or greater
BlinkId=0,jAlertClosed=!0,function($){function log(){$.fn.ajajSubmit.debug&&window.console&&window.console.log&&window.console.log("[jqajaj] "+Array.prototype.join.call(arguments,""))}$.extend({ajaj:function(e,o){timeout="undefined"==typeof timeout?timeout=1e4:timeout,ajaj.beforeSend(),$.ajax({url:e,async:!0,timeout:timeout,type:"POST",dataType:"json",data:o}).done(function(e,o,n){return ajaj.success(e,o)}).fail(function(e,o,n){return ajaj.error(e,o,n)}).always(function(e,o,n){return ajaj.complete(e,o)})}}),ajaj={beforeSend:function(){return jBusy(),!0},success:function(e,o){jClose();for(var n=0;n<e.query.length;n++)for(var t=$(e.query[n].selector),a=e.query[n].method,i=e.query[n].arguments,r=0;r<a.length;r++)try{var l=a[r],s=i[r];if(l&&""!=l&&"undefined"!=l)switch(!0){case"ready"==l||"map"==l||"queue"==l:t=t[l](window[s[0]]);break;case("bind"==l||"one"==l)&&3==s.length:t=t[l](s[0],s[1],window[s[2]]);break;case("toggle"==l||"hover"==l)&&2==s.length:t=t[l](window[s[0]],window[s[1]]);break;case"filter"==l&&1==s.length:t=window[s[0]]&&""!=window[s[0]]&&"undefined"!=window[s[0]]?t[l](window[s[0]]):t[l](s[0]);break;case("show"==l||"hide"==l||"slideDown"==l||"slideUp"==l||"slideToggle"==l||"fadeIn"==l||"fadeOut"==l)&&2==s.length:t=t[l](s[0],window[s[1]]);break;case("blur"==l||"change"==l||"click"==l||"dblclick"==l||"error"==l||"focus"==l||"keydown"==l||"keypress"==l||"keyup"==l||"load"==l||"unload"==l||"mousedown"==l||"mousemove"==l||"mouseout"==l||"mouseover"==l||"mouseup"==l||"resize"==l||"scroll"==l||"select"==l||"submit"==l)&&1==s.length:t=t[l](window[s[0]]);break;case"fadeTo"==l&&3==s.length:t=t[l](s[0],s[1],window[s[2]]);break;case"animate"==l&&4==s.length:t=t[l](s[0],s[1],s[2],window[s[3]]);break;case 0==s.length:t=t[l]();break;case 1==s.length:t=t[l](s[0]);break;case 2==s.length:t=t[l](s[0],s[1]);break;case 3==s.length:t=t[l](s[0],s[1],s[2]);break;case 4==s.length:t=t[l](s[0],s[1],s[2],s[3]);break;default:t=t[l](s)}}catch(c){msg='Acción: $("'+e.query[n].selector+'").'+l+'("'+s+'")<br>error: '+c.message,jError(msg,"Error en Respuesta")}$.each(e.action,function(e,o){for(var n=0;n<o.length;n++)try{ajaj[e](o[n])}catch(t){msg="Acción: "+e+"("+o[n]+")<br>error: "+t.message,jError(msg)}})},error:function(e,o,n){var t=e.status;switch(t){case 0:statusDesc="No conectado o Tiempo de espera agotado.<br>Verifique conexión de red";break;case 200:statusDesc="Error de respuesta desde el servidor o sesion finalizada",sessionEnded();break;case 404:statusDesc="El controlador no fue encontrado.";break;case 408:statusDesc="Tiempo de espera agotado";break;case t>=500:statusDesc="Error del servidor.";break;default:statusDesc="Error desconocido.<br>"+n+"<br>"+o}var a="Error "+t;return jError(statusDesc,a),!1},complete:function(e,o){return!0},jInfo:function(e){var o=e.msg||"",n=e.title||"",t=e.callback||"",a=e.params||[];jInfo(o,n,t,a)},jWarning:function(e){var o=e.msg||"",n=e.title||"",t=e.callback||"",a=e.params||[];jWarning(o,n,t,a)},jError:function(e){var o=e.msg||"",n=e.title||"",t=e.callback||"",a=e.params||[];jError(o,n,t,a)},jConfirm:function(e){var o=e.msg||"",n=e.title||"",t=e.callback||"",a=e.params||[];jConfirm(o,n,t,a)},jPrompt:function(e){var o=e.msg||"",n=e.title||"",t=e.callback||"";jPrompt(o,n,t,params)},jProcess:function(e){var o=e.msg||"",n=e.title||"",t=e.style||"";jProcess(o,n,t)},jBusy:function(){jBusy()},jClose:function(){jClose()},setData:function(e){var o=e.callback||"defaultCallBack";ajaj.data[o](e.k,e.v)},Script:function(obj){var func=obj.scr||"";eval(func)}},$.alerts={info:function(e,o,n,t){null==o&&(o="Información"),$.alerts._render("info",e,o,function(e){(func=$.alerts._toFunction(n))&&e&&func.apply(null,t)})},warning:function(e,o,n,t){null==o&&(o="Advertencia"),$.alerts._render("warning",e,o,function(e){(func=$.alerts._toFunction(n))&&e&&func.apply(null,t)})},error:function(e,o,n,n,t){null==o&&(o="Error"),$.alerts._render("error",e,o,function(e){(func=$.alerts._toFunction(n))&&e&&func.apply(null,t)})},confirm:function(e,o,n,t){null==o&&(o="Confirmar"),$.alerts._render("confirm",e,o,function(e){(func=$.alerts._toFunction(n))&&e&&func.apply(null,t)})},process:function(e,o,n){null==o&&(o="Proceso en curso"),$.alerts._render("process",e,o,"",n)},prompt:function(e,o,n,t){null==o&&(o="Introdusca un valor"),$.alerts._render("prompt",e,o,function(e){(func=$.alerts._toFunction(n))&&e&&(t.length?t.push(e):t=[e],func.apply(null,t))})},busy:function(){jAlertClosed&&$.alerts._busy()},_busy:function(){$.alerts._close(),image="Libs/APJ/images/busy32.gif",winW=window.innerWidth,winH=window.innerHeight,dialogW=32,dialogH=32,dialogL=winW/2-.5*dialogW,dialogT=winH/2-.5*dialogH,$(document.body).append('<div id="busyoverlay"></div><div id="busybox"><img src="'+image+'"><div><div id="dialogboxbody"></div>'),$("#busyoverlay").css({height:winH+"px"}),$("#busybox").css({width:dialogW+"px",height:dialogH+"px",left:dialogL+"px",top:dialogT+"px"}),jAlertClosed=!1,$("#busyoverlay").show(),$("#busybox").show()},_render:function(e,o,n,t,a){switch($.alerts._close(),$(document.body).append('<div id="dialogoverlay"></div><div id="dialogbox"><div><div id="dialogboxhead"></div><div id="dialogboxbody"></div><div id="dialogboxfoot"></div></div></div>'),text='<div id="dialogboxtext">'+o,winW=window.innerWidth,winH=window.innerHeight,dialogW=winW/4,dialogH=winH/4,dialogW<300&&(dialogW=300),dialogL=winW/2-.5*dialogW,dialogT=winH/2-.5*dialogH,e){case"info":n=n.length>0?n:"Información",image="Libs/APJ/images/info32.png",clase="infoBody",$("#dialogboxfoot").html('<button id="dialogOk">Aceptar</button>'),$("#dialogOk").click(function(){$.alerts._close(),t&&t(!0)});break;case"warning":n=n.length>0?n:"Advertencia",image="Libs/APJ/images/warning32.png",clase="warningBody",$("#dialogboxfoot").html('<button id="dialogOk">Aceptar</button>'),$("#dialogOk").click(function(){$.alerts._close(),t&&t(!0)});break;case"error":n=n.length>0?n:"Error",image="Libs/APJ/images/error32.png",clase="errorBody",$("#dialogboxfoot").html('<button id="dialogOk">Aceptar</button>'),$("#dialogOk").click(function(){$.alerts._close(),t&&t(!0)});break;case"confirm":n=n.length>0?n:"Confirmaci&oacute;n",Param="undefined"!=typeof Param?Param:!1,image="Libs/APJ/images/question32.png",clase="confirmBody",$("#dialogboxfoot").html('<button id="dialogOk">Si</button> <button id="dialogCancel">No</button>'),$("#dialogOk").click(function(){$.alerts._close(),t&&t(!0)}),$("#dialogCancel").click(function(){$.alerts._close(),t&&t(!1)});break;case"prompt":n=n.length>0?n:"Introdusca un valor",image="Libs/APJ/images/question32.png",clase="promptBody",text+=': <input id="prompt_value" placeholder="valor">',$("#dialogboxfoot").html('<button id="dialogOk">Aceptar</button> <button id="dialogCancel">Cancelar</button>'),$("#dialogOk").click(function(){var e=$("#prompt_value").val();$.alerts._close(),t&&t(e)}),$("#dialogCancel").click(function(){$.alerts._close(),t&&t(null)});break;case"process":n=n.length>0?n:"Proceso en curso",image="Libs/APJ/images/process32.png",clase="processBody"}$("#dialogoverlay").css({height:winH+"px"}),$("#dialogbox").css({width:dialogW+"px",left:dialogL+"px",top:dialogT+"px"}),$("#dialogboxhead").css("background-image","url("+image+")"),$("#dialogboxbody").addClass(clase),$("#dialogboxhead").html(n),$("#dialogboxbody").html(text+"</div>"),$.alerts._open(),"blink"==a&&(BlinkId=setInterval($.alerts._blinker,1500))},_open:function(){jAlertClosed=!1,$("#dialogoverlay").show(),$("#dialogbox").show()},_close:function(){jAlertClosed=!0,$("#dialogbox").hide().remove(),$("#busybox").hide().remove(),$("#dialogoverlay").hide().remove(),$("#busyoverlay").hide().remove(),BlinkId&&(clearInterval(BlinkId),BlinkId=0)},_blinker:function(){$("#dialogboxtext").stop().fadeOut(500).fadeIn(500)},_toFunction:function(e){switch(typeof e){case"string":return window[e];case"function":return e;default:return!1}}},$.fn.formToArray=function(e){var o=[];if(0==this.length)return o;var n=this[0],t=e?n.getElementsByTagName("*"):n.elements;if(!t)return o;for(var a=0,i=t.length;i>a;a++){var r=t[a],l=r.name;if(l)if(e&&n.clk&&"image"==r.type&&!r.disabled&&n.clk==r)o.push({name:l+".x",value:n.clk_x},{name:l+".y",value:n.clk_y});else{var s=$.fieldValue(r,!0);if(s&&s.constructor==Array)for(var c=0,u=s.length;u>c;c++)o.push({name:l,value:s[c]});else null!==s&&"undefined"!=typeof s&&o.push({name:l,value:s})}}if(!e&&n.clk)for(var d=n.getElementsByTagName("input"),a=0,i=d.length;i>a;a++){var f=d[a],l=f.name;l&&!f.disabled&&"image"==f.type&&n.clk==f&&o.push({name:l+".x",value:n.clk_x},{name:l+".y",value:n.clk_y})}return o},$.fn.formSerialize=function(e){return $.param(this.formToArray(e))},$.fn.fieldSerialize=function(e){var o=[];return this.each(function(){var n=this.name;if(n){var t=$.fieldValue(this,e);if(t&&t.constructor==Array)for(var a=0,i=t.length;i>a;a++)o.push({name:n,value:t[a]});else null!==t&&"undefined"!=typeof t&&o.push({name:this.name,value:t})}}),$.param(o)},$.fn.fieldValue=function(e){for(var o=[],n=0,t=this.length;t>n;n++){var a=this[n],o=$.fieldValue(a,e);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?$.merge(o,o):o.push(o))}return o},$.fieldValue=function(e,o){var n=e.name,t=e.type,a=e.tagName.toLowerCase();if("undefined"==typeof o&&(o=!0),o&&("checkbox"==t||"radio"==t))return e.checked?e.value?e.value:"1":"0";if(o&&(!n||e.disabled||"reset"==t||"button"==t||("submit"==t||"image"==t)&&e.form&&e.form.clk!=e||"select"==a&&-1==e.selectedIndex))return null;if("select"==a){var i=e.selectedIndex;if(0>i)return null;for(var r=[],l=e.options,s="select-one"==t,c=s?i+1:l.length,u=s?i:0;c>u;u++){var d=l[u];if(d.selected){var f=d.attributes.value.specified?d.value:d.text;if(s)return f;r.push(f)}}return r}return e.value},$.fn.clearForm=function(){return this.each(function(){$("input,select,textarea",this).clearFields()})},$.fn.clearFields=$.fn.clearInputs=function(){return this.each(function(){var e=this.type,o=this.tagName.toLowerCase();"text"==e||"password"==e||"textarea"==o?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==o&&(this.selectedIndex=-1)})},$.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},$.fn.enable=function(e){return void 0==e&&(e=!0),this.each(function(){this.disabled=!e})},$.fn.select=function(e){return void 0==e&&(e=!0),this.each(function(){var o=this.type;if("checkbox"==o||"radio"==o)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=$(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").select(!1),this.selected=e}})},jInfo=function(e,o,n,t){$.alerts.info(e,o,n,t),$("#dialogOk").focus().select()},jWarning=function(e,o,n,t){$.alerts.warning(e,o,n,t),$("#dialogOk").focus().select()},jError=function(e,o,n,t){$.alerts.error(e,o,n,t),$("#dialogOk").focus().select()},jConfirm=function(e,o,n,t){$.alerts.confirm(e,o,n,t),$("#dialogOk").focus().select()},jPrompt=function(e,o,n,t){$.alerts.prompt(e,o,n,t),$("#prompt_value").focus().select()},jProcess=function(e,o,n){$.alerts.process(e,o,n)},jBusy=function(){$.alerts.busy()},jClose=function(){$.alerts._close()},sessionEnded=function(){"function"==typeof toLogin&&toLogin()},jShowDown=function(e,o){var n=$("#"+o),t=$("#"+e);n.width()<t.width()&&n.width(t.width());var a=t.offset(),i=a.top,r=a.left,l=i+t.outerHeight()+1;n.is(":visible")?n.hide():(n.show(),n.offset({top:l,left:r}))},APJSubmit=function(e,o){var n=Array.prototype.slice.call(arguments);o="undefined"==typeof o||""==o?"main":o;for(var t="form#"+e,i=$(t).formToArray(!0),r=!1,l=0;l<i.length;l++)"action"===i[l].name&&(r=!0);if(!r){var s={name:"action",value:o};i.push(s)}if(n.length>2){var c=0,u=[];for(a=2;a<n.length;a++)u[c]=n[a],c++;s={name:"parameters",value:JSON.stringify(u)},i.push(s)}return $.ajaj(url,i),!1},APJCall=function(){var e=Array.prototype.slice.call(arguments);$.ajaj(url,{action:"_APJCall",data:JSON.stringify(e)})}}(jQuery);