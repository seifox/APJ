// Version 1.17.0607 Beta | requires jQuery v1.5.x or greater
BlinkId=0,jAlertClosed=!0,function($){function log(){$.fn.ajajSubmit.debug&&window.console&&window.console.log&&window.console.log("[jqajaj] "+Array.prototype.join.call(arguments,""))}$.extend({ajaj:function(e,o){timeout="undefined"==typeof timeout?timeout=1e4:timeout,ajaj.beforeSend(),$.ajax({url:e,async:!0,timeout:timeout,type:"POST",dataType:"json",data:o}).done(function(e,o,n){return ajaj.success(e,o)}).fail(function(e,o,n){return ajaj.error(e,o,n)}).always(function(e,o,n){return ajaj.complete(e,o)})}}),ajaj={beforeSend:function(){return jBusy(),!0},success:function(e,o){jClose();for(var n=0;n<e.query.length;n++)for(var a=$(e.query[n].selector),t=e.query[n].method,i=e.query[n].arguments,r=0;r<t.length;r++)try{var l=t[r],s=i[r];if(l&&""!=l&&"undefined"!=l)switch(!0){case"ready"==l||"map"==l||"queue"==l:a=a[l](window[s[0]]);break;case("bind"==l||"one"==l)&&3==s.length:a=a[l](s[0],s[1],window[s[2]]);break;case("toggle"==l||"hover"==l)&&2==s.length:a=a[l](window[s[0]],window[s[1]]);break;case"filter"==l&&1==s.length:a=window[s[0]]&&""!=window[s[0]]&&"undefined"!=window[s[0]]?a[l](window[s[0]]):a[l](s[0]);break;case("show"==l||"hide"==l||"slideDown"==l||"slideUp"==l||"slideToggle"==l||"fadeIn"==l||"fadeOut"==l)&&2==s.length:a=a[l](s[0],window[s[1]]);break;case("blur"==l||"change"==l||"click"==l||"dblclick"==l||"error"==l||"focus"==l||"keydown"==l||"keypress"==l||"keyup"==l||"load"==l||"unload"==l||"mousedown"==l||"mousemove"==l||"mouseout"==l||"mouseover"==l||"mouseup"==l||"resize"==l||"scroll"==l||"select"==l||"submit"==l)&&1==s.length:a=a[l](window[s[0]]);break;case"fadeTo"==l&&3==s.length:a=a[l](s[0],s[1],window[s[2]]);break;case"animate"==l&&4==s.length:a=a[l](s[0],s[1],s[2],window[s[3]]);break;case 0==s.length:a=a[l]();break;case 1==s.length:a=a[l](s[0]);break;case 2==s.length:a=a[l](s[0],s[1]);break;case 3==s.length:a=a[l](s[0],s[1],s[2]);break;case 4==s.length:a=a[l](s[0],s[1],s[2],s[3]);break;default:a=a[l](s)}}catch(c){msg='Acción: $("'+e.query[n].selector+'").'+l+'("'+s+'")<br>error: '+c.message,jError(msg,"Error en Respuesta")}$.each(e.action,function(e,o){for(var n=0;n<o.length;n++)try{ajaj[e](o[n])}catch(a){msg="Acción: "+e+"("+o[n]+")<br>error: "+a.message,jError(msg)}})},error:function(e,o,n){var a=e.status;switch(a){case 0:statusDesc="No conectado o Tiempo de espera agotado.<br>Verifique conexión de red";break;case 200:statusDesc="Error de respuesta desde el servidor o sesion finalizada",sessionEnded();break;case 404:statusDesc="El controlador no fue encontrado.";break;case 408:statusDesc="Tiempo de espera agotado";break;case a>=500:statusDesc="Error del servidor.";break;default:statusDesc="Error desconocido.<br>"+n+"<br>"+o}var t="AJAX Error "+a;return jError(statusDesc,t),!1},complete:function(e,o){return!0},jInfo:function(e){var o=e.msg||"",n=e.title||"",a=e.callback||"",t=e.params||[];jInfo(o,n,a,t)},jWarning:function(e){var o=e.msg||"",n=e.title||"",a=e.callback||"",t=e.params||[];jWarning(o,n,a,t)},jError:function(e){var o=e.msg||"",n=e.title||"",a=e.callback||"",t=e.params||[];jError(o,n,a,t)},jConfirm:function(e){var o=e.msg||"",n=e.title||"",a=e.callback||"",t=e.params||[];jConfirm(o,n,a,t)},jPrompt:function(e){var o=e.msg||"",n=e.title||"",a=e.callback||"";jPrompt(o,n,a,params)},jProcess:function(e){var o=e.msg||"",n=e.title||"",a=e.style||"";jProcess(o,n,a)},jBusy:function(){jBusy()},jClose:function(){jClose()},setData:function(e){var o=e.callback||"defaultCallBack";ajaj.data[o](e.k,e.v)},Script:function(obj){var func=obj.scr||"";eval(func)}},$.alerts={info:function(e,o,n,a){null==o&&(o="Información"),$.alerts._render("info",e,o,function(e){"function"==typeof n&&e&&n.apply(null,a)})},warning:function(e,o,n,a){null==o&&(o="Advertencia"),$.alerts._render("warning",e,o,function(e){"function"==typeof n&&e&&n.apply(null,a)})},error:function(e,o,n,n,a){null==o&&(o="Error"),$.alerts._render("error",e,o,function(e){"function"==typeof n&&e&&n.apply(null,a)})},confirm:function(e,o,n,a){null==o&&(o="Confirmar"),$.alerts._render("confirm",e,o,function(e){"function"==typeof n&&e&&n.apply(null,a)})},process:function(e,o,n){null==o&&(o="Proceso en curso"),$.alerts._render("process",e,o,"",n)},prompt:function(e,o,n,a){null==o&&(o="Introdusca un valor"),$.alerts._render("prompt",e,o,function(e){"function"==typeof n&&e&&(a.length?a.push(e):a=[e],n.apply(null,a))})},busy:function(){jAlertClosed&&$.alerts._busy()},_busy:function(){$.alerts._close(),image="Libs/APJ/images/busy32.gif",winW=window.innerWidth,winH=window.innerHeight,dialogW=32,dialogH=32,dialogL=winW/2-.5*dialogW,dialogT=winH/2-.5*dialogH,$(document.body).append('<div id="busyoverlay"></div><div id="busybox"><img src="'+image+'"><div><div id="dialogboxbody"></div>'),$("#busyoverlay").css({height:winH+"px"}),$("#busybox").css({width:dialogW+"px",height:dialogH+"px",left:dialogL+"px",top:dialogT+"px"}),jAlertClosed=!1,$("#busyoverlay").show(),$("#busybox").show()},_render:function(e,o,n,a,t){switch($.alerts._close(),$(document.body).append('<div id="dialogoverlay"></div><div id="dialogbox"><div><div id="dialogboxhead"></div><div id="dialogboxbody"></div><div id="dialogboxfoot"></div></div></div>'),text='<div id="dialogboxtext">'+o,winW=window.innerWidth,winH=window.innerHeight,dialogW=winW/4,dialogH=winH/4,dialogW<300&&(dialogW=300),dialogL=winW/2-.5*dialogW,dialogT=winH/2-.5*dialogH,e){case"info":n=n.length>0?n:"Información",image="Libs/APJ/images/info32.png",clase="infoBody",$("#dialogboxfoot").html('<button id="dialogOk">Aceptar</button>'),$("#dialogOk").click(function(){$.alerts._close(),a&&a(!0)});break;case"warning":n=n.length>0?n:"Advertencia",image="Libs/APJ/images/warning32.png",clase="warningBody",$("#dialogboxfoot").html('<button id="dialogOk">Aceptar</button>'),$("#dialogOk").click(function(){$.alerts._close(),a&&a(!0)});break;case"error":n=n.length>0?n:"Error",image="Libs/APJ/images/error32.png",clase="errorBody",$("#dialogboxfoot").html('<button id="dialogOk">Aceptar</button>'),$("#dialogOk").click(function(){$.alerts._close(),a&&a(!0)});break;case"confirm":n=n.length>0?n:"Confirmaci&oacute;n",Param="undefined"!=typeof Param?Param:!1,image="Libs/APJ/images/question32.png",clase="confirmBody",$("#dialogboxfoot").html('<button id="dialogOk">Si</button> <button id="dialogCancel">No</button>'),$("#dialogOk").click(function(){$.alerts._close(),a&&a(!0)}),$("#dialogCancel").click(function(){$.alerts._close(),a&&a(!1)});break;case"prompt":n=n.length>0?n:"Introdusca un valor",image="Libs/APJ/images/question32.png",clase="promptBody",text+=': <input id="prompt_value" placeholder="valor">',$("#dialogboxfoot").html('<button id="dialogOk">Aceptar</button> <button id="dialogCancel">Cancelar</button>'),$("#dialogOk").click(function(){var e=$("#prompt_value").val();$.alerts._close(),a&&a(e)}),$("#dialogCancel").click(function(){$.alerts._close(),a&&a(null)});break;case"process":n=n.length>0?n:"Proceso en curso",image="Libs/APJ/images/process32.png",clase="processBody"}$("#dialogoverlay").css({height:winH+"px"}),$("#dialogbox").css({width:dialogW+"px",left:dialogL+"px",top:dialogT+"px"}),$("#dialogboxhead").css("background-image","url("+image+")"),$("#dialogboxbody").addClass(clase),$("#dialogboxhead").html(n),$("#dialogboxbody").html(text+"</div>"),$.alerts._open(),"blink"==t&&(BlinkId=setInterval($.alerts._blinker,1500))},_open:function(){jAlertClosed=!1,$("#dialogoverlay").show(),$("#dialogbox").show()},_close:function(){jAlertClosed=!0,$("#dialogbox").hide().remove(),$("#busybox").hide().remove(),$("#dialogoverlay").hide().remove(),$("#busyoverlay").hide().remove(),BlinkId&&(clearInterval(BlinkId),BlinkId=0)},_blinker:function(){$("#dialogboxtext").stop().fadeOut(500).fadeIn(500)}},$.fn.formToArray=function(e){var o=[];if(0==this.length)return o;var n=this[0],a=e?n.getElementsByTagName("*"):n.elements;if(!a)return o;for(var t=0,i=a.length;i>t;t++){var r=a[t],l=r.name;if(l)if(e&&n.clk&&"image"==r.type&&!r.disabled&&n.clk==r)o.push({name:l+".x",value:n.clk_x},{name:l+".y",value:n.clk_y});else{var s=$.fieldValue(r,!0);if(s&&s.constructor==Array)for(var c=0,u=s.length;u>c;c++)o.push({name:l,value:s[c]});else null!==s&&"undefined"!=typeof s&&o.push({name:l,value:s})}}if(!e&&n.clk)for(var d=n.getElementsByTagName("input"),t=0,i=d.length;i>t;t++){var f=d[t],l=f.name;l&&!f.disabled&&"image"==f.type&&n.clk==f&&o.push({name:l+".x",value:n.clk_x},{name:l+".y",value:n.clk_y})}return o},$.fn.formSerialize=function(e){return $.param(this.formToArray(e))},$.fn.fieldSerialize=function(e){var o=[];return this.each(function(){var n=this.name;if(n){var a=$.fieldValue(this,e);if(a&&a.constructor==Array)for(var t=0,i=a.length;i>t;t++)o.push({name:n,value:a[t]});else null!==a&&"undefined"!=typeof a&&o.push({name:this.name,value:a})}}),$.param(o)},$.fn.fieldValue=function(e){for(var o=[],n=0,a=this.length;a>n;n++){var t=this[n],o=$.fieldValue(t,e);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?$.merge(o,o):o.push(o))}return o},$.fieldValue=function(e,o){var n=e.name,a=e.type,t=e.tagName.toLowerCase();if("undefined"==typeof o&&(o=!0),o&&("checkbox"==a||"radio"==a))return e.checked?e.value?e.value:"1":"0";if(o&&(!n||e.disabled||"reset"==a||"button"==a||("submit"==a||"image"==a)&&e.form&&e.form.clk!=e||"select"==t&&-1==e.selectedIndex))return null;if("select"==t){var i=e.selectedIndex;if(0>i)return null;for(var r=[],l=e.options,s="select-one"==a,c=s?i+1:l.length,u=s?i:0;c>u;u++){var d=l[u];if(d.selected){var f=d.attributes.value.specified?d.value:d.text;if(s)return f;r.push(f)}}return r}return e.value},$.fn.clearForm=function(){return this.each(function(){$("input,select,textarea",this).clearFields()})},$.fn.clearFields=$.fn.clearInputs=function(){return this.each(function(){var e=this.type,o=this.tagName.toLowerCase();"text"==e||"password"==e||"textarea"==o?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==o&&(this.selectedIndex=-1)})},$.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},$.fn.enable=function(e){return void 0==e&&(e=!0),this.each(function(){this.disabled=!e})},$.fn.select=function(e){return void 0==e&&(e=!0),this.each(function(){var o=this.type;if("checkbox"==o||"radio"==o)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=$(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").select(!1),this.selected=e}})},jInfo=function(e,o,n,a){$.alerts.info(e,o,n,a),$("#dialogOk").focus().select()},jWarning=function(e,o,n,a){$.alerts.warning(e,o,n,a),$("#dialogOk").focus().select()},jError=function(e,o,n,a){$.alerts.error(e,o,n,a),$("#dialogOk").focus().select()},jConfirm=function(e,o,n,a){$.alerts.confirm(e,o,n,a),$("#dialogOk").focus().select()},jPrompt=function(e,o,n,a){$.alerts.prompt(e,o,n,a),$("#prompt_value").focus().select()},jProcess=function(e,o,n){$.alerts.process(e,o,n)},jBusy=function(){$.alerts.busy()},jClose=function(){$.alerts._close()},sessionEnded=function(){"function"==typeof toLogin&&toLogin()},jShowDown=function(e,o){var n=$("#"+o),a=$("#"+e),t=a.offset(),i=t.top,r=t.left,l=i+a.outerHeight()+1;n.is(":visible")?n.hide():(n.show(),n.offset({top:l,left:r}))},APJSubmit=function(e,o){var n=Array.prototype.slice.call(arguments);o="undefined"==typeof o||""==o?"main":o;for(var t="form#"+e,i=$(t).formToArray(!0),r=!1,l=0;l<i.length;l++)"APJaction"===i[l].name&&(r=!0);if(!r){var s={name:"APJaction",value:o};i.push(s)}if(n.length>2){var c=0,u=[];for(a=2;a<n.length;a++)u[c]=n[a],c++;s={name:"parameters",value:JSON.stringify(u)},i.push(s)}return $.ajaj(url,i),!1},APJCall=function(){var e=Array.prototype.slice.call(arguments);$.ajaj(url,{action:"_APJCall",data:JSON.stringify(e)})}}(jQuery);